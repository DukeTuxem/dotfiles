" Editor settings
" ---------------

" 'Front' features
set number             " Show the line numbers on the side
set relativenumber     " Show the relative number depending on the cursor
set colorcolumn=80     " Show the limit with a vertical mark bar
set showcmd            " Show the command being typed. Ex: "a
set noruler            " Show line info at the bottom (useless with airline)
set nowrap             " Allow long lines to extend as far as they go
set showmatch          " Briefly highlight the previous bracket if any...
"set matchtime=3        " ... and shorten the default time -> zt zb zz H M L
"set scrolloff=5        " This setting should be illegal as it helps scrolling
"set cursorline         " Underline the cursor
"set cursorcolumn       " Display a vertical bar at cursor position
set splitbelow         " Split more...
set splitright         " ... naturally
set conceallevel=0     " Never replace any symbol to like lambda sign, ...
set visualbell         " Disable sound
set vb t_vb=           " Clearing the visual bell length deactivates flashing

" Completion menu (to be set elsewhere ?)
set wildmenu              " Better than spamming tab tab in command line mode
set wildmode=list:longest " Let me see everything!
set wildignore=*.jpg,*.png,*.gif,*.pdf,*.pyc,*.flv,*.img

" Tab setting
set tabstop=8             " Number of spaces that a <Tab> in the file counts for
set shiftwidth=8
"set softtabstop=4
set noexpandtab           " Replace tabs with space

" 'Back' behavior
set modeline              " Explicit setting for # vim: command
set modelines=1           " Limit lines to read
set hidden                " We can not only keep one file opened at a time...
set autoread              " Reload files changed outside vim
au FocusGained,BufEnter * :checktime

" Set the working directory to the current edited file location
au BufEnter * lcd %:p:h

" Always open help in a new buffer
au BufEnter *.txt if &filetype == 'help' | wincmd T | endif

" expand folds when opening files
"set foldlevelstart=20

" Mappings:
" Remap Window navigation to save a keystroke
nnoremap <C-J> <C-W><C-J>
nnoremap <C-K> <C-W><C-K>
nnoremap <C-L> <C-W><C-L>
nnoremap <C-H> <C-W><C-H>

" Ctrl + s to save on update
" config: `stty -ixon` in bash
" or `set noflowcontrol` in zsh
noremap <silent> <C-S>    :update<CR>
vnoremap <silent> <C-S>   <C-C>:update<CR>
inoremap <silent> <C-S>   <C-O>:update<CR>

" Arrow up/down in :cmdline
cnoremap <C-j> <Down>
cnoremap <C-k> <Up>

" semi-colon is useless, just use the search feature
nnoremap ; :
vnoremap ; :

" Embrace the pain: Unmap arrows
"noremap <Up> <Nop>
"noremap <Down> <Nop>
"noremap <Left> <Nop>
"noremap <Right> <Nop>
"inoremap <Up> <Nop>
"inoremap <Down> <Nop>
"inoremap <Left> <Nop>
"inoremap <Right> <Nop>

" Fixes:
" Thanks
nnoremap Y y$
"set title                " Forward opened file name to the WM
" TODO: Fix thanks for flying vim everywhere (nnn opening editor)
" -> Temporary fix is zsh setting cwd for the WM
"set titleold=
" Done in zsh (not in nnn yet, generic way...?)
"let &titleold;=getcwd()   " Fix the 'Thanks for flying vim' ?

" vim:ft=vim
